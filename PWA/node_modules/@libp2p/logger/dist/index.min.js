(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2PLogger = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Libp2PLogger=(()=>{var O=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var H=(e,r)=>{for(var t in r)O(e,t,{get:r[t],enumerable:!0})},ee=(e,r,t,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of W(r))!Y.call(e,n)&&n!==t&&O(e,n,{get:()=>r[n],enumerable:!(i=_(r,n))||i.enumerable});return e};var re=e=>ee(O({},"__esModule",{value:!0}),e);var Se={};H(Se,{defaultLogger:()=>ve,disable:()=>Ae,enable:()=>Ee,enabled:()=>$e,logger:()=>N,peerLogger:()=>Fe,prefixLogger:()=>Q});var ke=new Uint8Array(0);function T(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function te(e,r){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<e.length;n++){var f=e.charAt(n),p=f.charCodeAt(0);if(t[p]!==255)throw new TypeError(f+" is ambiguous");t[p]=n}var h=e.length,A=e.charAt(0),E=Math.log(h)/Math.log(256),o=Math.log(256)/Math.log(h);function s(a){if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";for(var u=0,l=0,d=0,C=a.length;d!==C&&a[d]===0;)d++,u++;for(var x=(C-d)*o+1>>>0,b=new Uint8Array(x);d!==C;){for(var v=a[d],y=0,w=x-1;(v!==0||y<l)&&w!==-1;w--,y++)v+=256*b[w]>>>0,b[w]=v%h>>>0,v=v/h>>>0;if(v!==0)throw new Error("Non-zero carry");l=y,d++}for(var F=x-l;F!==x&&b[F]===0;)F++;for(var U=A.repeat(u);F<x;++F)U+=e.charAt(b[F]);return U}function c(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return new Uint8Array;var u=0;if(a[u]!==" "){for(var l=0,d=0;a[u]===A;)l++,u++;for(var C=(a.length-u)*E+1>>>0,x=new Uint8Array(C);a[u];){var b=t[a.charCodeAt(u)];if(b===255)return;for(var v=0,y=C-1;(b!==0||v<d)&&y!==-1;y--,v++)b+=h*x[y]>>>0,x[y]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");d=v,u++}if(a[u]!==" "){for(var w=C-d;w!==C&&x[w]===0;)w++;for(var F=new Uint8Array(l+(C-w)),U=l;w!==C;)F[U++]=x[w++];return F}}}function S(a){var u=c(a);if(u)return u;throw new Error(`Non-${r} character`)}return{encode:s,decodeUnsafe:c,decode:S}}var ne=te,oe=ne,J=oe;var z=class{name;prefix;baseEncode;constructor(r,t,i){this.name=r,this.prefix=t,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}},L=class{name;prefix;baseDecode;prefixCodePoint;constructor(r,t,i){this.name=r,this.prefix=t;let n=t.codePointAt(0);if(n===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=i}decode(r){if(typeof r=="string"){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(r){return R(this,r)}},I=class{decoders;constructor(r){this.decoders=r}or(r){return R(this,r)}decode(r){let t=r[0],i=this.decoders[t];if(i!=null)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function R(e,r){return new I({...e.decoders??{[e.prefix]:e},...r.decoders??{[r.prefix]:r}})}var P=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(r,t,i,n){this.name=r,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new z(r,t,i),this.decoder=new L(r,t,n)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}};function V({name:e,prefix:r,encode:t,decode:i}){return new P(e,r,t,i)}function D({name:e,prefix:r,alphabet:t}){let{encode:i,decode:n}=J(t,e);return V({prefix:r,name:e,encode:i,decode:f=>T(n(f))})}function ie(e,r,t,i){let n=e.length;for(;e[n-1]==="=";)--n;let f=new Uint8Array(n*t/8|0),p=0,h=0,A=0;for(let E=0;E<n;++E){let o=r[e[E]];if(o===void 0)throw new SyntaxError(`Non-${i} character`);h=h<<t|o,p+=t,p>=8&&(p-=8,f[A++]=255&h>>p)}if(p>=t||(255&h<<8-p)!==0)throw new SyntaxError("Unexpected end of data");return f}function se(e,r,t){let i=r[r.length-1]==="=",n=(1<<t)-1,f="",p=0,h=0;for(let A=0;A<e.length;++A)for(h=h<<8|e[A],p+=8;p>t;)p-=t,f+=r[n&h>>p];if(p!==0&&(f+=r[n&h<<t-p]),i)for(;(f.length*t&7)!==0;)f+="=";return f}function ae(e){let r={};for(let t=0;t<e.length;++t)r[e[t]]=t;return r}function g({name:e,prefix:r,bitsPerChar:t,alphabet:i}){let n=ae(i);return V({prefix:r,name:e,encode(f){return se(f,i,t)},decode(f){return ie(f,n,t,e)}})}var B=g({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pe=g({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),De=g({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),je=g({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Te=g({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Je=g({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Re=g({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ve=g({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Be=g({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var q=D({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Xe=D({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var G=g({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Qe=g({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_e=g({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),We=g({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function ue(e,r){if(typeof e=="string")return fe(e);if(typeof e=="number")return de(e,r);throw Error(`Value provided to ms() must be a string or number. value=${JSON.stringify(e)}`)}var k=ue;function fe(e){if(typeof e!="string"||e.length===0||e.length>100)throw Error(`Value provided to ms.parse() must be a string with length between 1 and 99. value=${JSON.stringify(e)}`);let r=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec(e);if(!r?.groups)return NaN;let{value:t,unit:i="ms"}=r.groups,n=parseFloat(t),f=i.toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return n*315576e5;case"months":case"month":case"mo":return n*26298e5;case"weeks":case"week":case"w":return n*6048e5;case"days":case"day":case"d":return n*864e5;case"hours":case"hour":case"hrs":case"hr":case"h":return n*36e5;case"minutes":case"minute":case"mins":case"min":case"m":return n*6e4;case"seconds":case"second":case"secs":case"sec":case"s":return n*1e3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:throw Error(`Unknown unit "${f}" provided to ms.parse(). value=${JSON.stringify(e)}`)}}function ce(e){let r=Math.abs(e);return r>=315576e5?`${Math.round(e/315576e5)}y`:r>=26298e5?`${Math.round(e/26298e5)}mo`:r>=6048e5?`${Math.round(e/6048e5)}w`:r>=864e5?`${Math.round(e/864e5)}d`:r>=36e5?`${Math.round(e/36e5)}h`:r>=6e4?`${Math.round(e/6e4)}m`:r>=1e3?`${Math.round(e/1e3)}s`:`${e}ms`}function le(e){let r=Math.abs(e);return r>=315576e5?$(e,r,315576e5,"year"):r>=26298e5?$(e,r,26298e5,"month"):r>=6048e5?$(e,r,6048e5,"week"):r>=864e5?$(e,r,864e5,"day"):r>=36e5?$(e,r,36e5,"hour"):r>=6e4?$(e,r,6e4,"minute"):r>=1e3?$(e,r,1e3,"second"):`${e} ms`}function de(e,r){if(typeof e!="number"||!Number.isFinite(e))throw Error("Value provided to ms.format() must be of type number.");return r?.long?le(e):ce(e)}function $(e,r,t,i){let n=r>=t*1.5;return`${Math.round(e/t)} ${i}${n?"s":""}`}function j(e){t.debug=t,t.default=t,t.coerce=A,t.disable=f,t.enable=n,t.enabled=p,t.humanize=k,t.destroy=E,Object.keys(e).forEach(o=>{t[o]=e[o]}),t.names=[],t.skips=[],t.formatters={};function r(o){let s=0;for(let c=0;c<o.length;c++)s=(s<<5)-s+o.charCodeAt(c),s|=0;return t.colors[Math.abs(s)%t.colors.length]}t.selectColor=r;function t(o){let s,c=null,S,a;function u(...l){if(!u.enabled)return;let d=u,C=Number(new Date),x=C-(s||C);d.diff=x,d.prev=s,d.curr=C,s=C,l[0]=t.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");let b=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,(y,w)=>{if(y==="%%")return"%";b++;let F=t.formatters[w];if(typeof F=="function"){let U=l[b];y=F.call(d,U),l.splice(b,1),b--}return y}),t.formatArgs.call(d,l),(d.log||t.log).apply(d,l)}return u.namespace=o,u.useColors=t.useColors(),u.color=t.selectColor(o),u.extend=i,u.destroy=t.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>c!==null?c:(S!==t.namespaces&&(S=t.namespaces,a=t.enabled(o)),a),set:l=>{c=l}}),typeof t.init=="function"&&t.init(u),u}function i(o,s){let c=t(this.namespace+(typeof s>"u"?":":s)+o);return c.log=this.log,c}function n(o){t.save(o),t.namespaces=o,t.names=[],t.skips=[];let s,c=(typeof o=="string"?o:"").split(/[\s,]+/),S=c.length;for(s=0;s<S;s++)c[s]&&(o=c[s].replace(/\*/g,".*?"),o[0]==="-"?t.skips.push(new RegExp("^"+o.substr(1)+"$")):t.names.push(new RegExp("^"+o+"$")))}function f(){let o=[...t.names.map(h),...t.skips.map(h).map(s=>"-"+s)].join(",");return t.enable(""),o}function p(o){if(o[o.length-1]==="*")return!0;let s,c;for(s=0,c=t.skips.length;s<c;s++)if(t.skips[s].test(o))return!1;for(s=0,c=t.names.length;s<c;s++)if(t.names[s].test(o))return!0;return!1}function h(o){return o.toString().substring(2,o.toString().length-2).replace(/\.\*\?$/,"*")}function A(o){return o instanceof Error?o.stack??o.message:o}function E(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.setupFormatters(t.formatters),t.enable(t.load()),t}var M=we(),pe=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function he(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/(edge|trident)\/(\d+)/)!=null?!1:typeof document<"u"&&document.documentElement?.style?.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/firefox\/(\d+)/)!=null&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/applewebkit\/(\d+)/)}function be(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+k(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let t=0,i=0;e[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(t++,n==="%c"&&(i=t))}),e.splice(i,0,r)}var me=console.debug??console.log??(()=>{});function Ce(e){try{e?M?.setItem("debug",e):M?.removeItem("debug")}catch{}}function ge(){let e;try{e=M?.getItem("debug")}catch{}return!e&&typeof globalThis.process<"u"&&"env"in globalThis.process&&(e=globalThis.process.env.DEBUG),e}function we(){try{return localStorage}catch{}}function xe(e){e.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}var X=j({formatArgs:be,save:Ce,load:ge,useColors:he,setupFormatters:xe,colors:pe,storage:M,log:me});var m=X;function Z(e,r={}){let t=r.prefixLength??2,i=r.suffixLength??4,n=e.toString();return`${n.substring(0,t)}\u2026${n.substring(n.length,n.length-i)}`}m.formatters.b=e=>e==null?"undefined":q.baseEncode(e);m.formatters.t=e=>e==null?"undefined":B.baseEncode(e);m.formatters.m=e=>e==null?"undefined":G.baseEncode(e);m.formatters.p=e=>e==null?"undefined":e.toString();m.formatters.c=e=>e==null?"undefined":e.toString();m.formatters.k=e=>e==null?"undefined":e.toString();m.formatters.a=e=>e==null?"undefined":e.toString();m.formatters.e=e=>{if(e==null)return"undefined";let r=K(e.message),t=K(e.stack);return r!=null&&t!=null?t.includes(r)?t:`${r}
${t}`:t??r??e.toString()};function ye(e){let r=()=>{};return r.enabled=!1,r.color="",r.diff=0,r.log=()=>{},r.namespace=e,r.destroy=()=>!0,r.extend=()=>r,r}function Fe(e,r={}){return Q(Z(e,r))}function Q(e){return{forComponent(r){return N(`${e}:${r}`)}}}function ve(){return{forComponent(e){return N(e)}}}function N(e){let r=ye(`${e}:trace`);return m.enabled(`${e}:trace`)&&m.names.map(t=>t.toString()).find(t=>t.includes(":trace"))!=null&&(r=m(`${e}:trace`)),Object.assign(m(e),{error:m(`${e}:error`),trace:r,newScope:t=>N(`${e}:${t}`)})}function Ae(){m.disable()}function Ee(e){m.enable(e)}function $e(e){return m.enabled(e)}function K(e){if(e!=null&&(e=e.trim(),e.length!==0))return e}return re(Se);})();
return Libp2PLogger}));
//# sourceMappingURL=index.min.js.map
